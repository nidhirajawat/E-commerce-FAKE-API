{"ast":null,"code":"var _jsxFileName = \"/home/developer/Downloads/ReactJS_FakeStore_API/src/contexts/cart_context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useReducer } from \"react\";\nimport { cart_reducer as reducer } from \"../reducers/cart_reducer\";\nimport { ADD_TO_CART, REMOVE_CART_ITEM, TOGGLE_CART_ITEM, CLEAR_CART, COUNT_CART_TOTALS, CHECKOUT } from \"../utils/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getLocalStorage = () => {\n  let cart = localStorage.getItem(\"cart\");\n  if (cart) {\n    return JSON.parse(cart);\n  } else {\n    return [];\n  }\n};\nconst initialState = {\n  cart: getLocalStorage(),\n  total_price: 0,\n  total_items: 0,\n  isCheckout: false\n};\nconst CartContext = /*#__PURE__*/createContext();\nexport const CartProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    dispatch({\n      type: COUNT_CART_TOTALS\n    });\n    localStorage.setItem(\"cart\", JSON.stringify(state.cart));\n  }, [state.cart]);\n\n  //? Handlers\n  const addToCart = (product, amount) => {\n    dispatch({\n      type: ADD_TO_CART,\n      payload: {\n        product,\n        amount\n      }\n    });\n  };\n  const toggleAmount = (id, value) => {\n    dispatch({\n      type: TOGGLE_CART_ITEM,\n      payload: {\n        id,\n        value\n      }\n    });\n  };\n  const removeItem = id => {\n    dispatch({\n      type: REMOVE_CART_ITEM,\n      payload: id\n    });\n  };\n  const clearCart = () => {\n    dispatch({\n      type: CLEAR_CART\n    });\n  };\n  const checkout = () => {\n    dispatch({\n      type: CHECKOUT\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      ...state,\n      addToCart,\n      toggleAmount,\n      removeItem,\n      clearCart,\n      checkout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"bgCdjuTOmPdSBRwTap80EFd9Y3U=\");\n_c = CartProvider;\nexport const useCartContext = () => {\n  _s2();\n  return useContext(CartContext);\n};\n_s2(useCartContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useReducer","cart_reducer","reducer","ADD_TO_CART","REMOVE_CART_ITEM","TOGGLE_CART_ITEM","CLEAR_CART","COUNT_CART_TOTALS","CHECKOUT","jsxDEV","_jsxDEV","getLocalStorage","cart","localStorage","getItem","JSON","parse","initialState","total_price","total_items","isCheckout","CartContext","CartProvider","children","_s","state","dispatch","type","setItem","stringify","addToCart","product","amount","payload","toggleAmount","id","value","removeItem","clearCart","checkout","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCartContext","_s2","$RefreshReg$"],"sources":["/home/developer/Downloads/ReactJS_FakeStore_API/src/contexts/cart_context.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useReducer } from \"react\";\r\nimport { cart_reducer as reducer } from \"../reducers/cart_reducer\";\r\n\r\nimport {\r\n  ADD_TO_CART,\r\n  REMOVE_CART_ITEM,\r\n  TOGGLE_CART_ITEM,\r\n  CLEAR_CART,\r\n  COUNT_CART_TOTALS,\r\n  CHECKOUT,\r\n} from \"../utils/actions\";\r\n\r\nconst getLocalStorage = () => {\r\n  let cart = localStorage.getItem(\"cart\");\r\n  if (cart) {\r\n    return JSON.parse(cart);\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  cart: getLocalStorage(),\r\n  total_price: 0,\r\n  total_items: 0,\r\n  isCheckout: false,\r\n};\r\n\r\nconst CartContext = createContext();\r\n\r\nexport const CartProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: COUNT_CART_TOTALS });\r\n    localStorage.setItem(\"cart\", JSON.stringify(state.cart));\r\n  }, [state.cart]);\r\n\r\n  //? Handlers\r\n  const addToCart = (product, amount) => {\r\n    dispatch({ type: ADD_TO_CART, payload: { product, amount } });\r\n  };\r\n\r\n  const toggleAmount = (id, value) => {\r\n    dispatch({ type: TOGGLE_CART_ITEM, payload: { id, value } });\r\n  };\r\n\r\n  const removeItem = (id) => {\r\n    dispatch({ type: REMOVE_CART_ITEM, payload: id });\r\n  };\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: CLEAR_CART });\r\n  };\r\n\r\n  const checkout = () => {\r\n    dispatch({ type: CHECKOUT });\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        ...state,\r\n        addToCart,\r\n        toggleAmount,\r\n        removeItem,\r\n        clearCart,\r\n        checkout,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCartContext = () => {\r\n  return useContext(CartContext);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}