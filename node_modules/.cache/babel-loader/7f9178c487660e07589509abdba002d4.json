{"ast":null,"code":"import{ADD_TO_CART,REMOVE_CART_ITEM,TOGGLE_CART_ITEM,CLEAR_CART,COUNT_CART_TOTALS,CHECKOUT}from\"../utils/actions\";export const cart_reducer=(state,action)=>{const{type,payload}=action;if(type===ADD_TO_CART){const{product,amount}=payload;const tempItem=state.cart.find(item=>item.id===product.id);if(tempItem){const tempCart=state.cart.map(item=>{if(item.id===tempItem.id){let newAmount=item.amount+amount;return{...item,amount:newAmount};}else{return item;}});return{...state,cart:tempCart};}else{const{id,title,image,price}=product;const newItem={id,title,image,price,amount};return{...state,cart:[...state.cart,newItem],isCheckout:false};}}if(type===TOGGLE_CART_ITEM){const{id,value}=payload;const tempCart=state.cart.map(item=>{if(item.id===id){if(value===\"inc\"){let newAmount=item.amount+1;return{...item,amount:newAmount};}if(value===\"dec\"){let newAmount=item.amount-1;if(newAmount<1){newAmount=1;}return{...item,amount:newAmount};}}return item;});return{...state,cart:tempCart};}if(type===REMOVE_CART_ITEM){const tempCart=state.cart.filter(item=>item.id!==payload);return{...state,cart:tempCart};}if(type===CLEAR_CART){return{...state,cart:[]};}if(type===COUNT_CART_TOTALS){const{total_items,total_price}=state.cart.reduce((total,cartItem)=>{const{amount,price}=cartItem;total.total_items+=amount;total.total_price+=price*amount;return total;},{total_price:0,total_items:0});return{...state,total_items,total_price};}if(type===CHECKOUT){return{...state,isCheckout:true,cart:[]};}throw new Error(`No Matching \"${type}\" - action type `);};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_CART_ITEM","TOGGLE_CART_ITEM","CLEAR_CART","COUNT_CART_TOTALS","CHECKOUT","cart_reducer","state","action","type","payload","product","amount","tempItem","cart","find","item","id","tempCart","map","newAmount","title","image","price","newItem","isCheckout","value","filter","total_items","total_price","reduce","total","cartItem","Error"],"sources":["/home/developer/Desktop/Precious Infosystem/E-commerce-FAKE-APi/src/reducers/cart_reducer.js"],"sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  REMOVE_CART_ITEM,\r\n  TOGGLE_CART_ITEM,\r\n  CLEAR_CART,\r\n  COUNT_CART_TOTALS,\r\n  CHECKOUT,\r\n} from \"../utils/actions\";\r\n\r\nexport const cart_reducer = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  if (type === ADD_TO_CART) {\r\n    const { product, amount } = payload;\r\n    const tempItem = state.cart.find((item) => item.id === product.id);\r\n    if (tempItem) {\r\n      const tempCart = state.cart.map((item) => {\r\n        if (item.id === tempItem.id) {\r\n          let newAmount = item.amount + amount;\r\n          return { ...item, amount: newAmount };\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      return { ...state, cart: tempCart };\r\n    } else {\r\n      const { id, title, image, price } = product;\r\n      const newItem = {\r\n        id,\r\n        title,\r\n        image,\r\n        price,\r\n        amount,\r\n      };\r\n      return { ...state, cart: [...state.cart, newItem], isCheckout: false };\r\n    }\r\n  }\r\n\r\n  if (type === TOGGLE_CART_ITEM) {\r\n    const { id, value } = payload;\r\n    const tempCart = state.cart.map((item) => {\r\n      if (item.id === id) {\r\n        if (value === \"inc\") {\r\n          let newAmount = item.amount + 1;\r\n          return { ...item, amount: newAmount };\r\n        }\r\n        if (value === \"dec\") {\r\n          let newAmount = item.amount - 1;\r\n          if (newAmount < 1) {\r\n            newAmount = 1;\r\n          }\r\n          return { ...item, amount: newAmount };\r\n        }\r\n      }\r\n      return item;\r\n    });\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (type === REMOVE_CART_ITEM) {\r\n    const tempCart = state.cart.filter((item) => item.id !== payload);\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (type === CLEAR_CART) {\r\n    return { ...state, cart: [] };\r\n  }\r\n\r\n  if (type === COUNT_CART_TOTALS) {\r\n    const { total_items, total_price } = state.cart.reduce(\r\n      (total, cartItem) => {\r\n        const { amount, price } = cartItem;\r\n        total.total_items += amount;\r\n        total.total_price += price * amount;\r\n\r\n        return total;\r\n      },\r\n      {\r\n        total_price: 0,\r\n        total_items: 0,\r\n      }\r\n    );\r\n    return { ...state, total_items, total_price };\r\n  }\r\n\r\n  if (type === CHECKOUT) {\r\n    return {\r\n      ...state,\r\n      isCheckout: true,\r\n      cart: [],\r\n    };\r\n  }\r\n\r\n  throw new Error(`No Matching \"${type}\" - action type `);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}