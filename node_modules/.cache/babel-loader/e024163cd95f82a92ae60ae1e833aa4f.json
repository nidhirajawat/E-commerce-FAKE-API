{"ast":null,"code":"import React,{createContext,useContext,useEffect,useReducer}from\"react\";import{CLOSE_SIDEBAR,OPEN_SIDEBAR,GET_PRODUCTS_BEGIN,GET_PRODUCTS_ERROR,GET_PRODUCTS_SUCCESS,GET_SINGLE_PRODUCT_BEGIN,GET_SINGLE_PRODUCT_ERROR,GET_SINGLE_PRODUCT_SUCCESS}from\"../utils/actions\";import{products_reducer as reducer}from\"../reducers/products_reducer\";import{jsx as _jsx}from\"react/jsx-runtime\";const initialState={isSidebarOpen:false,products_loading:false,products_error:false,products:[],popular_products:[],single_product_loading:false,single_product_error:false,single_product:{}};const ProductsContext=/*#__PURE__*/createContext();const API_ENDPOINT=\"https://fakestoreapi.com/products\";export const ProductsProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,initialState);const fetchProducts=async url=>{dispatch({type:GET_PRODUCTS_BEGIN});try{const response=await fetch(url);const products=await response.json();dispatch({type:GET_PRODUCTS_SUCCESS,payload:products});}catch(error){dispatch({type:GET_PRODUCTS_ERROR});}};const fetchSingleProduct=async params=>{dispatch({type:GET_SINGLE_PRODUCT_BEGIN});try{const response=await fetch(`${API_ENDPOINT}/${params}`);const singleProduct=await response.json();dispatch({type:GET_SINGLE_PRODUCT_SUCCESS,payload:singleProduct});}catch(error){dispatch({type:GET_SINGLE_PRODUCT_ERROR});}};useEffect(()=>{fetchProducts(API_ENDPOINT);},[]);//? Handlers\nconst openSidebar=()=>{dispatch({type:OPEN_SIDEBAR});};const closeSidebar=()=>{dispatch({type:CLOSE_SIDEBAR});};return/*#__PURE__*/_jsx(ProductsContext.Provider,{value:{...state,openSidebar,closeSidebar,fetchSingleProduct},children:children});};export const useProductsContext=()=>{return useContext(ProductsContext);};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useReducer","CLOSE_SIDEBAR","OPEN_SIDEBAR","GET_PRODUCTS_BEGIN","GET_PRODUCTS_ERROR","GET_PRODUCTS_SUCCESS","GET_SINGLE_PRODUCT_BEGIN","GET_SINGLE_PRODUCT_ERROR","GET_SINGLE_PRODUCT_SUCCESS","products_reducer","reducer","jsx","_jsx","initialState","isSidebarOpen","products_loading","products_error","products","popular_products","single_product_loading","single_product_error","single_product","ProductsContext","API_ENDPOINT","ProductsProvider","_ref","children","state","dispatch","fetchProducts","url","type","response","fetch","json","payload","error","fetchSingleProduct","params","singleProduct","openSidebar","closeSidebar","Provider","value","useProductsContext"],"sources":["/home/developer/Desktop/Precious Infosystem/E-commerce-FAKE-APi/src/contexts/products_context.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useReducer } from \"react\";\r\n\r\nimport {\r\n  CLOSE_SIDEBAR,\r\n  OPEN_SIDEBAR,\r\n  GET_PRODUCTS_BEGIN,\r\n  GET_PRODUCTS_ERROR,\r\n  GET_PRODUCTS_SUCCESS,\r\n  GET_SINGLE_PRODUCT_BEGIN,\r\n  GET_SINGLE_PRODUCT_ERROR,\r\n  GET_SINGLE_PRODUCT_SUCCESS,\r\n} from \"../utils/actions\";\r\n\r\nimport { products_reducer as reducer } from \"../reducers/products_reducer\";\r\n\r\nconst initialState = {\r\n  isSidebarOpen: false,\r\n  products_loading: false,\r\n  products_error: false,\r\n  products: [],\r\n  popular_products: [],\r\n  single_product_loading: false,\r\n  single_product_error: false,\r\n  single_product: {},\r\n};\r\n\r\nconst ProductsContext = createContext();\r\n\r\nconst API_ENDPOINT = \"https://fakestoreapi.com/products\";\r\n\r\nexport const ProductsProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const fetchProducts = async (url) => {\r\n    dispatch({ type: GET_PRODUCTS_BEGIN });\r\n    try {\r\n      const response = await fetch(url);\r\n      const products = await response.json();\r\n      dispatch({ type: GET_PRODUCTS_SUCCESS, payload: products });\r\n    } catch (error) {\r\n      dispatch({ type: GET_PRODUCTS_ERROR });\r\n    }\r\n  };\r\n\r\n  const fetchSingleProduct = async (params) => {\r\n    dispatch({ type: GET_SINGLE_PRODUCT_BEGIN });\r\n    try {\r\n      const response = await fetch(`${API_ENDPOINT}/${params}`);\r\n      const singleProduct = await response.json();\r\n      dispatch({ type: GET_SINGLE_PRODUCT_SUCCESS, payload: singleProduct });\r\n    } catch (error) {\r\n      dispatch({ type: GET_SINGLE_PRODUCT_ERROR });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts(API_ENDPOINT);\r\n  }, []);\r\n\r\n  //? Handlers\r\n  const openSidebar = () => {\r\n    dispatch({ type: OPEN_SIDEBAR });\r\n  };\r\n  const closeSidebar = () => {\r\n    dispatch({ type: CLOSE_SIDEBAR });\r\n  };\r\n  return (\r\n    <ProductsContext.Provider\r\n      value={{ ...state, openSidebar, closeSidebar, fetchSingleProduct }}\r\n    >\r\n      {children}\r\n    </ProductsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useProductsContext = () => {\r\n  return useContext(ProductsContext);\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAE/E,OACEC,aAAa,CACbC,YAAY,CACZC,kBAAkB,CAClBC,kBAAkB,CAClBC,oBAAoB,CACpBC,wBAAwB,CACxBC,wBAAwB,CACxBC,0BAA0B,KACrB,kBAAkB,CAEzB,OAASC,gBAAgB,GAAI,CAAAC,OAAO,KAAQ,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3E,KAAM,CAAAC,YAAY,CAAG,CACnBC,aAAa,CAAE,KAAK,CACpBC,gBAAgB,CAAE,KAAK,CACvBC,cAAc,CAAE,KAAK,CACrBC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EAAE,CACpBC,sBAAsB,CAAE,KAAK,CAC7BC,oBAAoB,CAAE,KAAK,CAC3BC,cAAc,CAAE,CAAC,CACnB,CAAC,CAED,KAAM,CAAAC,eAAe,cAAGzB,aAAa,CAAC,CAAC,CAEvC,KAAM,CAAA0B,YAAY,CAAG,mCAAmC,CAExD,MAAO,MAAM,CAAAC,gBAAgB,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3C,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAG5B,UAAU,CAACU,OAAO,CAAEG,YAAY,CAAC,CAE3D,KAAM,CAAAgB,aAAa,CAAG,KAAO,CAAAC,GAAG,EAAK,CACnCF,QAAQ,CAAC,CAAEG,IAAI,CAAE5B,kBAAmB,CAAC,CAAC,CACtC,GAAI,CACF,KAAM,CAAA6B,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACH,GAAG,CAAC,CACjC,KAAM,CAAAb,QAAQ,CAAG,KAAM,CAAAe,QAAQ,CAACE,IAAI,CAAC,CAAC,CACtCN,QAAQ,CAAC,CAAEG,IAAI,CAAE1B,oBAAoB,CAAE8B,OAAO,CAAElB,QAAS,CAAC,CAAC,CAC7D,CAAE,MAAOmB,KAAK,CAAE,CACdR,QAAQ,CAAC,CAAEG,IAAI,CAAE3B,kBAAmB,CAAC,CAAC,CACxC,CACF,CAAC,CAED,KAAM,CAAAiC,kBAAkB,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC3CV,QAAQ,CAAC,CAAEG,IAAI,CAAEzB,wBAAyB,CAAC,CAAC,CAC5C,GAAI,CACF,KAAM,CAAA0B,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGV,YAAY,IAAIe,MAAM,EAAE,CAAC,CACzD,KAAM,CAAAC,aAAa,CAAG,KAAM,CAAAP,QAAQ,CAACE,IAAI,CAAC,CAAC,CAC3CN,QAAQ,CAAC,CAAEG,IAAI,CAAEvB,0BAA0B,CAAE2B,OAAO,CAAEI,aAAc,CAAC,CAAC,CACxE,CAAE,MAAOH,KAAK,CAAE,CACdR,QAAQ,CAAC,CAAEG,IAAI,CAAExB,wBAAyB,CAAC,CAAC,CAC9C,CACF,CAAC,CAEDR,SAAS,CAAC,IAAM,CACd8B,aAAa,CAACN,YAAY,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAiB,WAAW,CAAGA,CAAA,GAAM,CACxBZ,QAAQ,CAAC,CAAEG,IAAI,CAAE7B,YAAa,CAAC,CAAC,CAClC,CAAC,CACD,KAAM,CAAAuC,YAAY,CAAGA,CAAA,GAAM,CACzBb,QAAQ,CAAC,CAAEG,IAAI,CAAE9B,aAAc,CAAC,CAAC,CACnC,CAAC,CACD,mBACEW,IAAA,CAACU,eAAe,CAACoB,QAAQ,EACvBC,KAAK,CAAE,CAAE,GAAGhB,KAAK,CAAEa,WAAW,CAAEC,YAAY,CAAEJ,kBAAmB,CAAE,CAAAX,QAAA,CAElEA,QAAQ,CACe,CAAC,CAE/B,CAAC,CAED,MAAO,MAAM,CAAAkB,kBAAkB,CAAGA,CAAA,GAAM,CACtC,MAAO,CAAA9C,UAAU,CAACwB,eAAe,CAAC,CACpC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}