{"ast":null,"code":"import { ADD_TO_CART, REMOVE_CART_ITEM, TOGGLE_CART_ITEM, CLEAR_CART, COUNT_CART_TOTALS, CHECKOUT } from \"../utils/actions\";\nexport const cart_reducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  if (type === ADD_TO_CART) {\n    const {\n      product,\n      amount\n    } = payload;\n    const tempItem = state.cart.find(item => item.id === product.id);\n    if (tempItem) {\n      const tempCart = state.cart.map(item => {\n        if (item.id === tempItem.id) {\n          let newAmount = item.amount + amount;\n          return {\n            ...item,\n            amount: newAmount\n          };\n        } else {\n          return item;\n        }\n      });\n      return {\n        ...state,\n        cart: tempCart\n      };\n    } else {\n      const {\n        id,\n        title,\n        image,\n        price\n      } = product;\n      const newItem = {\n        id,\n        title,\n        image,\n        price,\n        amount\n      };\n      return {\n        ...state,\n        cart: [...state.cart, newItem],\n        isCheckout: false\n      };\n    }\n  }\n  if (type === TOGGLE_CART_ITEM) {\n    const {\n      id,\n      value\n    } = payload;\n    const tempCart = state.cart.map(item => {\n      if (item.id === id) {\n        if (value === \"inc\") {\n          let newAmount = item.amount + 1;\n          return {\n            ...item,\n            amount: newAmount\n          };\n        }\n        if (value === \"dec\") {\n          let newAmount = item.amount - 1;\n          if (newAmount < 1) {\n            newAmount = 1;\n          }\n          return {\n            ...item,\n            amount: newAmount\n          };\n        }\n      }\n      return item;\n    });\n    return {\n      ...state,\n      cart: tempCart\n    };\n  }\n  if (type === REMOVE_CART_ITEM) {\n    const tempCart = state.cart.filter(item => item.id !== payload);\n    return {\n      ...state,\n      cart: tempCart\n    };\n  }\n  if (type === CLEAR_CART) {\n    return {\n      ...state,\n      cart: []\n    };\n  }\n  if (type === COUNT_CART_TOTALS) {\n    const {\n      total_items,\n      total_price\n    } = state.cart.reduce((total, cartItem) => {\n      const {\n        amount,\n        price\n      } = cartItem;\n      total.total_items += amount;\n      total.total_price += price * amount;\n      return total;\n    }, {\n      total_price: 0,\n      total_items: 0\n    });\n    return {\n      ...state,\n      total_items,\n      total_price\n    };\n  }\n  if (type === CHECKOUT) {\n    return {\n      ...state,\n      isCheckout: true,\n      cart: []\n    };\n  }\n  throw new Error(`No Matching \"${type}\" - action type `);\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_CART_ITEM","TOGGLE_CART_ITEM","CLEAR_CART","COUNT_CART_TOTALS","CHECKOUT","cart_reducer","state","action","type","payload","product","amount","tempItem","cart","find","item","id","tempCart","map","newAmount","title","image","price","newItem","isCheckout","value","filter","total_items","total_price","reduce","total","cartItem","Error"],"sources":["/home/developer/Downloads/E-commerce_FakeStore_API/src/reducers/cart_reducer.js"],"sourcesContent":["import {\r\n  ADD_TO_CART,\r\n  REMOVE_CART_ITEM,\r\n  TOGGLE_CART_ITEM,\r\n  CLEAR_CART,\r\n  COUNT_CART_TOTALS,\r\n  CHECKOUT,\r\n} from \"../utils/actions\";\r\n\r\nexport const cart_reducer = (state, action) => {\r\n  const { type, payload } = action;\r\n\r\n  if (type === ADD_TO_CART) {\r\n    const { product, amount } = payload;\r\n    const tempItem = state.cart.find((item) => item.id === product.id);\r\n    if (tempItem) {\r\n      const tempCart = state.cart.map((item) => {\r\n        if (item.id === tempItem.id) {\r\n          let newAmount = item.amount + amount;\r\n          return { ...item, amount: newAmount };\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      return { ...state, cart: tempCart };\r\n    } else {\r\n      const { id, title, image, price } = product;\r\n      const newItem = {\r\n        id,\r\n        title,\r\n        image,\r\n        price,\r\n        amount,\r\n      };\r\n      return { ...state, cart: [...state.cart, newItem], isCheckout: false };\r\n    }\r\n  }\r\n\r\n  if (type === TOGGLE_CART_ITEM) {\r\n    const { id, value } = payload;\r\n    const tempCart = state.cart.map((item) => {\r\n      if (item.id === id) {\r\n        if (value === \"inc\") {\r\n          let newAmount = item.amount + 1;\r\n          return { ...item, amount: newAmount };\r\n        }\r\n        if (value === \"dec\") {\r\n          let newAmount = item.amount - 1;\r\n          if (newAmount < 1) {\r\n            newAmount = 1;\r\n          }\r\n          return { ...item, amount: newAmount };\r\n        }\r\n      }\r\n      return item;\r\n    });\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (type === REMOVE_CART_ITEM) {\r\n    const tempCart = state.cart.filter((item) => item.id !== payload);\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (type === CLEAR_CART) {\r\n    return { ...state, cart: [] };\r\n  }\r\n\r\n  if (type === COUNT_CART_TOTALS) {\r\n    const { total_items, total_price } = state.cart.reduce(\r\n      (total, cartItem) => {\r\n        const { amount, price } = cartItem;\r\n        total.total_items += amount;\r\n        total.total_price += price * amount;\r\n\r\n        return total;\r\n      },\r\n      {\r\n        total_price: 0,\r\n        total_items: 0,\r\n      }\r\n    );\r\n    return { ...state, total_items, total_price };\r\n  }\r\n\r\n  if (type === CHECKOUT) {\r\n    return {\r\n      ...state,\r\n      isCheckout: true,\r\n      cart: [],\r\n    };\r\n  }\r\n\r\n  throw new Error(`No Matching \"${type}\" - action type `);\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}