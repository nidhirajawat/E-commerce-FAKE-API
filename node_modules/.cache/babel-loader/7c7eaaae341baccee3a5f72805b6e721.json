{"ast":null,"code":"import React,{useEffect}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";import styled from\"styled-components\";import{useProductsContext}from\"../contexts/products_context\";import{Breadcrumb,Error,Loading,Stars,AddToCart,Button,Typography}from\"../components\";import Screen from\"../styles/Screen\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SingleProductPage=()=>{const navigate=useNavigate();const{id}=useParams();const{single_product:product,single_product_loading:loading,single_product_error:error,fetchSingleProduct}=useProductsContext();const{title,price,image,category,description,rating}=product;useEffect(()=>{fetchSingleProduct(id);},[id]);useEffect(()=>{if(error){setTimeout(()=>{navigate(\"/\");},3000);}},[error]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"page-w-b\",children:/*#__PURE__*/_jsx(Loading,{})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"page-w-b\",children:/*#__PURE__*/_jsx(Error,{})});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(Breadcrumb,{title:title,products:true}),/*#__PURE__*/_jsx(Wrapper,{className:\"page\",children:/*#__PURE__*/_jsxs(\"article\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"product__img\",children:/*#__PURE__*/_jsx(\"img\",{src:image,alt:title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"product__info\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",children:/*#__PURE__*/_jsx(Link,{to:\"/products\",children:\"back to products\"})}),/*#__PURE__*/_jsx(Typography.H2,{children:title}),/*#__PURE__*/_jsx(Stars,{stars:rating}),/*#__PURE__*/_jsxs(Typography.P,{className:\"info__price\",children:[\"Price : \",/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/_jsxs(Typography.P,{className:\"info__category\",children:[\"Category : \",/*#__PURE__*/_jsx(\"span\",{children:category})]}),/*#__PURE__*/_jsx(Typography.P,{children:description}),/*#__PURE__*/_jsx(AddToCart,{product:product})]})]})})]});};const Wrapper=styled.section`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  article {\n    padding: 1.5rem 1rem;\n    background: #fff;\n    display: grid;\n    justify-items: center;\n    gap: 2rem;\n    ${Screen.lg`\n    grid-template-columns: 1fr 1fr 1fr;\n    `}\n\n    .product__img {\n      img {\n        max-width: 20rem;\n        object-fit: contain;\n      }\n    }\n\n    .product__info {\n      display: grid;\n      gap: 1rem;\n      ${Screen.lg`\n      grid-column: 2/4;\n    `}\n\n      button {\n        width: max-content;\n      }\n\n      .info__price {\n        color: var(--green-color-1);\n        span {\n          color: var(--red-color-1);\n        }\n      }\n\n      .info__category {\n        color: var(--green-color-1);\n        span {\n          color: var(--gray-color-1);\n        }\n      }\n    }\n  }\n`;export default SingleProductPage;","map":{"version":3,"names":["React","useEffect","Link","useNavigate","useParams","styled","useProductsContext","Breadcrumb","Error","Loading","Stars","AddToCart","Button","Typography","Screen","jsx","_jsx","jsxs","_jsxs","SingleProductPage","navigate","id","single_product","product","single_product_loading","loading","single_product_error","error","fetchSingleProduct","title","price","image","category","description","rating","setTimeout","className","children","products","Wrapper","src","alt","variant","to","H2","stars","P","section","lg"],"sources":["/home/developer/Desktop/Precious Infosystem/E-commerce-FAKE-APi/src/pages/SingleProductPage.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { useProductsContext } from \"../contexts/products_context\";\r\n\r\nimport {\r\n  Breadcrumb,\r\n  Error,\r\n  Loading,\r\n  Stars,\r\n  AddToCart,\r\n  Button,\r\n  Typography,\r\n} from \"../components\";\r\n\r\nimport Screen from \"../styles/Screen\";\r\n\r\nconst SingleProductPage = () => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const {\r\n    single_product: product,\r\n    single_product_loading: loading,\r\n    single_product_error: error,\r\n    fetchSingleProduct,\r\n  } = useProductsContext();\r\n\r\n  const { title, price, image, category, description, rating } = product;\r\n\r\n  useEffect(() => {\r\n    fetchSingleProduct(id);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 3000);\r\n    }\r\n  }, [error]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className='page-w-b'>\r\n        <Loading />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className='page-w-b'>\r\n        <Error />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Breadcrumb title={title} products />\r\n      <Wrapper className='page'>\r\n        <article>\r\n          <div className='product__img'>\r\n            <img src={image} alt={title} />\r\n          </div>\r\n          <div className='product__info'>\r\n            <Button variant='secondary'>\r\n              <Link to='/products'>back to products</Link>\r\n            </Button>\r\n            <Typography.H2>{title}</Typography.H2>\r\n            <Stars stars={rating} />\r\n            <Typography.P className='info__price'>\r\n              Price : <span>${price}</span>\r\n            </Typography.P>\r\n            <Typography.P className='info__category'>\r\n              Category : <span>{category}</span>\r\n            </Typography.P>\r\n            <Typography.P>{description}</Typography.P>\r\n            <AddToCart product={product} />\r\n          </div>\r\n        </article>\r\n      </Wrapper>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  article {\r\n    padding: 1.5rem 1rem;\r\n    background: #fff;\r\n    display: grid;\r\n    justify-items: center;\r\n    gap: 2rem;\r\n    ${Screen.lg`\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    `}\r\n\r\n    .product__img {\r\n      img {\r\n        max-width: 20rem;\r\n        object-fit: contain;\r\n      }\r\n    }\r\n\r\n    .product__info {\r\n      display: grid;\r\n      gap: 1rem;\r\n      ${Screen.lg`\r\n      grid-column: 2/4;\r\n    `}\r\n\r\n      button {\r\n        width: max-content;\r\n      }\r\n\r\n      .info__price {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--red-color-1);\r\n        }\r\n      }\r\n\r\n      .info__category {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--gray-color-1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default SingleProductPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}